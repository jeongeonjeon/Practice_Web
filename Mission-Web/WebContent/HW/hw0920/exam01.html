<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	#wrap{width:750px;  }
	#map{width:350px; height:190px; border:2px solid #111; float:left;}
	#map img{width:inherit;}
	#map_txt{width:320px; height:160px; border:2px solid red; float:left; padding:15px;}
	
	#starImg>img{width:8px; height:8px;}
	
	.seoul{position:absolute; left:143px; top:100px;}
	.rondon{position:absolute; left:38px; top:84px;}
	.moscow{position:absolute; left:70px; top:80px;}
	.canberra{position:absolute; left:160px; top:162px;}
	.washington{position:absolute; left:270px; top:100px;}
	.la{position:absolute; left:238px; top:105px;}
	
</style>
<script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
	/* 나라별시간 계산 함수 */ 
	function contrHour(t,h){
		
		if(t=="런던"){
			h -= 8;
		}else if(t=="모스크바"){
			h -= 6;
		}else if(t=='캔버라'){
			h +=1;
		}else if(t=="LA"){
			h -= 16;
		}else if(t=="워싱턴 DC"){
			h -= 13
		}
		return h;
	}
	/* 나라별 날짜 함수 */
	function contrDay(d,h){
		if(h<0){
			d -= 1;
		}else if(h>=24){
			d +=1;
		}
		return d;
	}
	/* 나라별 요일 함수 */
	function contrDate(d,h){
		if(h<0){
			d -= 1;
		}else if(h>=24){
			d +=1;
		}
		return d;
	}
	/* 나라별 24시간 변환 함수 */
	function initHour(h){
		if(h<0){
			h+=24;
		}else if(h>=24){
			h-=24;
		}
		return h;
	}
	
	$(document).ready(function(){
		
		var setInter;
		
		$('#starImg img').mouseenter(function() {
			$(this).attr('src','images/star_red.png');
			
		});
		$('#starImg img').mouseleave(function() {
			$(this).attr('src','images/star_black.png');
			
			setTimeout(function() {
				clearInterval(setInter);
			}, 0)
		});
		
		$('#starImg img').click(function() {
			
			var title = $(this).attr('title');
			var today, hour,min,sec;
			var year,month,date,day;
			
			setInter = setInterval(function() {
				
				/* 도시초기화 */
				$("#map_txt p").text(function(index,text){
					return text.substr(0, 5);
				});
				
				/* 변수 초기화 */
				today = new window.Date();
				
				hour = today.getHours();
				min = today.getMinutes();
				sec = today.getSeconds();
				
				year = today.getFullYear();
				month = today.getMonth();
				date = today.getDate();
				
				day = today.getDay();
				
				
				hour = contrHour(title,hour);	//나라별시간 계산 		
				day = contrDate(day,hour);		//나라별 날짜
				date = contrDate(date,hour);	//나라별 요일
				hour = initHour(hour);			//나라별시간 24시간으로 변환
				
				/* 도시출력 */
				$(".txt01").text(function(index,text){
					return text.concat(title);
				});
							
				/* 시간출력 */
				$(".txt04").text(function(index,text){
					return text + hour+"시 "+min+"분 "+sec+"초 ";
				});
				
				/* 날짜출력 */
				$(".txt02").text(function(index,text){
					return text+year+"년 "+(month+1)+"월 "+date+"일 ";
				});
				
				/* 요일출력 */
				var array = ['일요일','월요일','화요일','수요일','목요일','금요일']
				$(".txt03").text(function(index,text){
					return text+array[day];
				});
			}, 200);//end of setInterval
			
		});//end of click
	});//end of ready
</script>
</head>
<body>
	<div id="wrap">
		<div>
			<div id="map">
				<img src="https://ssl.pstatic.net/sstatic/keypage/lifesrch/worldmap/img2/img_worldmap.png">
			</div>
			<div id="starImg">
				<img class="seoul" title="서울" src="images/star_black.png">
				<img class="rondon" title="런던" src="images/star_black.png">
				<img class="canberra" title="캔버라" src="images/star_black.png">
				<img class="moscow" title="모스크바" src="images/star_black.png">
				<img class="washington" title="워싱턴 DC" src="images/star_black.png">
				<img class="la" title="LA" src="images/star_black.png">
			</div>
		</div>
		<div id="map_txt">
				<p class="txt01">도시 : </p>
				<p class="txt02">날짜 : </p>
				<p class="txt03">요일 : </p>
				<p class="txt04">시간 : </p>
		</div>
	</div>
</body>
</html>